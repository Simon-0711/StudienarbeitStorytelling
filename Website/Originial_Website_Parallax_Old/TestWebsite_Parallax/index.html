<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <link rel="stylesheet" type="text/css" href="main.css">
    <link href="https://fonts.googleapis.com/css?family=Lato|Open+Sans|Roboto&display=swap" rel="stylesheet">

    <title>Parallax Test with vanilla Javascript</title>
</head>

<body>

    <div class="startView">

        <div class="startViewWrapper">

            <div class="startViewContent">

                <h1>Tour de France</h1>
                <p>The Entire Story and the winner of stage 14</p>
                <a href="#" class="btnOne">Explore</a>

            </div>

        </div>

    </div>

    <div class="historyTDF">

        <div class="historyTDFWrapper">

            <div class="historyTDFContent">

                <h1 id="startTitle">The History</h1>
                <p id="startParagraph">This is the entire history of the Tour de <br> France. From the early beginnings to the <br> modern day.</p>

                <h1>The entire Story</h1>
                <p>
                    Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut
                    labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores
                    et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.
                    Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut
                    labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores
                    et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.Lorem
                    ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore
                    et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea
                    rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem
                    ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore
                    et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea
                    rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.Lorem ipsum
                    dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et
                    dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea
                    rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem
                    ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore
                    et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea
                    rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.
                    Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut
                    labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores
                    et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.
                    Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut
                    labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores
                    et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.Lorem
                    ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore
                    et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea
                    rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem
                    ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore
                    et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea
                    rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.Lorem ipsum
                    dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et
                    dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea
                    rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem
                    ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore
                    et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea
                    rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.
                    Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut
                    labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores
                    et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.
                    Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut
                    labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores
                    et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.Lorem
                    ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore
                    et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea
                    rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem
                    ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore
                    et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea
                    rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.Lorem ipsum
                    dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et
                    dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea
                    rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem
                    ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore
                    et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea
                    rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.
                </p>

            </div>

        </div>

    </div>

    <script>
        // Scroll Effekt für Überschrift und Button
        window.addEventListener('scroll', function (e) {
            const target = document.querySelector('.startViewContent');

            var scrolled = window.pageYOffset;
            var rate = scrolled * -2;

            console.log('inner height');
            console.log(window.innerHeight);

            console.log('Y offset');
            console.log(window.pageYOffset);

            var scrolledPercentage = (window.innerHeight - window.pageYOffset) / window.innerHeight;
            console.log('scrolled Percentage');
            console.log(scrolledPercentage);

            var opacitiy = Math.pow(scrolledPercentage, 10);    // Gewichte scrollePercentage so dass opacity schneller 0 wird
            console.log('weighted opacity');
            console.log(opacitiy);

            target.style.transform = 'translate3d(0px, ' + rate + 'px, 0px)';
            target.style.opacity = opacitiy;
        });

        // Scroll Effekt für mainImage
        window.addEventListener('scroll', function (e) {
            const target = document.querySelector('.startView');

            var scrolled = window.pageYOffset;
            var rate = scrolled * -0.7;

            target.style.transform = 'translate3d(0px, ' + rate + 'px, 0px)';
        });

        // Scroll Effekt Text
        window.addEventListener('scroll', function (e) {
            const target = document.querySelector('.historyTDF');

            var scrolled = window.pageYOffset;
            var rate = scrolled * -0.7;

            target.style.transform = 'translate3d(0px, ' + rate + 'px, 0px)';
        });


        // Get the historyTDF div
        const historyTDF = document.querySelector('.historyTDF');
        console.log(historyTDF);

        // On scroll go to function  
        window.addEventListener('scroll', function () {

            // TopSapce über Text Div kleiner ist als der Space des gesamten Bildschirms
            if (historyTDF.getBoundingClientRect().top < window.innerHeight) {

                console.log('In the viewport!');

                window.addEventListener('scroll', function (e) {
                    const target = document.querySelector('.historyTDF');

                    var scrolled = window.pageYOffset;
                    var rateText = scrolled * -1;

                    target.style.transform = 'translate3d(0px, ' + rateText + 'px, 0px)';
    
                    // Main Imgage Scroll Stop
                    const targetMainImage = document.querySelector('.startView');

                    var rateMainImage = scrolled * 0.5; // Aufjedenfall noch in fixed ändern irgendwie oder sehr langsam 

                    targetMainImage.style.transform = 'translate3d(0px, ' + rateMainImage + 'px, 0px)';
                });

            } else {
                console.log('Not in view port');
            }

        });


    </script>

</body>

</html>